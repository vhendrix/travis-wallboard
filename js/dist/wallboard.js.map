{"version":3,"sources":["../src/wallboard.js"],"names":[],"mappings":"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","file":"wallboard.js","sourcesContent":["(function () {\n  'use strict';\n  var isMenuHidden = true;\n  var isMenuAnimating = false;\n\n  var getAgo = function (dateString) {\n    var dt = new Date(Date.parse(dateString));\n    var now = new Date();\n\n    var diff = now.getTime() - dt.getTime();\n\n    var minutes = Math.floor((diff / (60000)));\n\n    if ( isNaN(minutes) ) {\n      return 1 + ' Seconds';\n    } else if ( minutes === 0 ) {\n      var seconds = Math.floor((diff / (1000)));\n      return seconds + ' Seconds';\n    } else if ( minutes > 1440 ) {\n      return Math.floor((diff / 86400000)) + ' Days';\n    } else if ( minutes > 60 ) {\n      var hours = Math.floor((diff / 3600000));\n      minutes = Math.floor(((diff % 3600000) / 60000));\n      return hours + ' Hours and ' + minutes + ' Minutes';\n    } else {\n      return minutes + ' Minutes';\n    }\n  };\n\n  //Double functionality lets see how we can do this in angular.\n  $(document).ready(function () {\n    setInterval(\n      function () {\n        $('.time').each(\n          function () {\n            if ( typeof $(this).data('finished_at') === 'undefined' ) {\n              $(this).attr('data-finished_at', Date('Now').toString());\n            }\n            $(this).text(getAgo($(this).data('finished_at')));\n          }\n        );\n      },\n      1000\n    );\n\n    function showMenu() {\n      $('.tw-menu').animate(\n        {\n          opacity: 1,\n          top: 0\n        },\n        1000,\n        function () {\n          isMenuAnimating = false;\n        }\n      );\n      $('.board').animate(\n        {\n          top: 52\n        },\n        1000\n      );\n    }\n\n    function hideMenu() {\n      $('.tw-menu').animate(\n        {\n          opacity: 0.25,\n          top: -52\n        },\n        2000,\n        function () {\n          isMenuAnimating = false;\n        }\n      );\n      $('.board').animate(\n        {\n          top: 0\n        },\n        2000\n      );\n    }\n\n    $(\".board\").mousemove(\n      function (event) {\n        if (event.pageY < 72 &&\n            !isMenuAnimating &&\n            isMenuHidden) {\n          isMenuAnimating = true;\n          isMenuHidden = false;\n          showMenu();\n        }\n        // Check if we are not in the settings page and the nav-bar has no open drop-down menu.\n        else if(window.location.hash.indexOf('settings') === -1 &&\n            !$('ul.nav.navbar-nav').find('li').hasClass('open') &&\n            !isMenuAnimating &&\n            !isMenuHidden) {\n          isMenuAnimating = true;\n          isMenuHidden = true;\n          hideMenu();\n        }\n      }\n    );\n  });\n})\n($);\n"]}